<!DOCTYPE html>
<html>
	<head>
		<title>Map</title>
		<link rel="stylesheet" href="leaflet.css" />
		<script src="leaflet.js"></script>
		<style>
			html, body { height: 100%; margin: 0; }
			#map { height: 100%; }
		</style>
	</head>
	<body>
		<div id="map" class="full_height"></div>
		<script>
			var map = L.map('map', {
				center: [0, 0],
				zoom: 12,
				zoomControl: false
			});

			var plane  = L.marker([0,0],{icon: L.icon({iconUrl: 'images/plane.png', iconAnchor: [16,16], popupAnchor: [0,0], tooltipAnchor: [0,0]}) }).addTo(map);

			var markers = [];
			
			L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
				maxZoom: 19,
				attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
			}).addTo(map);
			
			var circle = L.circle([0, 0], {
				color: 'blue',
				fill: false,
				radius: 3000,
				opacity: 0.0
			}).addTo(map);

			//function flyTo(lat, lon){
			//	map.flyTo([lat, lon]);
			//}
			function addMarker(text, url, lat, lon){
				var marker = L.marker([lat, lon]).addTo(map);
				marker.bindPopup('<a href="'+url+'" target="_blank">' + text + '</a>', {autoClose: false, autoPan: false});
				markers.push(marker);
			}
			function clearMarkers(){
				for(var i = 0; i < markers.length; i++){
					map.removeLayer(markers[i]);
				}
			}
			function setCircle(lat, lon, r){
				plane.setLatLng([lat, lon]);
				circle.setStyle({ opacity: 1.0 });
				circle.setLatLng([lat, lon]);
				circle.setRadius(r);
				map.fitBounds(circle.getBounds());
			}
		</script>
	<body>
</html>